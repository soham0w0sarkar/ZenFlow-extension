import{s as se,L as Z,U as de,K as Ce,P as Me,Q as Te,R as Ue,e as h,t as E,a as V,c as m,b as p,d as I,f,g as S,p as b,i as he,h as i,j as R,n as je,u as me,V as We,k as fe,W as xe,o as Ge,X as Ne}from"../chunks/scheduler.BggJPCTn.js";import{S as ne,i as ae,b as F,d as X,m as L,a as A,t as P,e as q,g as Re,c as Fe}from"../chunks/index.CfOGneOa.js";import{I as Le,g as qe,a as Be,w as ze,c as Ve,j as Se,b as Ae,P as ke,i as He,d as Je}from"../chunks/store.CDSOwdv0.js";const Ke=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Oe(r){let t;const a=r[2].default,e=Ce(a,r,r[3],null);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,s){e&&e.m(n,s),t=!0},p(n,s){e&&e.p&&(!t||s&8)&&Me(e,a,n,n[3],t?Ue(a,n[3],s,null):Te(n[3]),null)},i(n){t||(A(e,n),t=!0)},o(n){P(e,n),t=!1},d(n){e&&e.d(n)}}}function Qe(r){let t,a;const e=[{name:"arrow-narrow-up"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Oe]},$$scope:{ctx:r}};for(let s=0;s<e.length;s+=1)n=Z(n,e[s]);return t=new Le({props:n}),{c(){F(t.$$.fragment)},l(s){X(t.$$.fragment,s)},m(s,l){L(t,s,l),a=!0},p(s,[l]){const c=l&3?qe(e,[e[0],l&2&&Be(s[1]),l&1&&{iconNode:s[0]}]):{};l&8&&(c.$$scope={dirty:l,ctx:s}),t.$set(c)},i(s){a||(A(t.$$.fragment,s),a=!0)},o(s){P(t.$$.fragment,s),a=!1},d(s){q(t,s)}}}function Xe(r,t,a){let{$$slots:e={},$$scope:n}=t;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M16 9l-4 -4"}],["path",{d:"M8 9l4 -4"}]];return r.$$set=l=>{a(1,t=Z(Z({},t),de(l))),"$$scope"in l&&a(3,n=l.$$scope)},t=de(t),[s,t,e,n]}class Ze extends ne{constructor(t){super(),ae(this,t,Xe,Qe,se,{})}}const Ye=Ze;function et(r){let t;const a=r[2].default,e=Ce(a,r,r[3],null);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,s){e&&e.m(n,s),t=!0},p(n,s){e&&e.p&&(!t||s&8)&&Me(e,a,n,n[3],t?Ue(a,n[3],s,null):Te(n[3]),null)},i(n){t||(A(e,n),t=!0)},o(n){P(e,n),t=!1},d(n){e&&e.d(n)}}}function tt(r){let t,a;const e=[{name:"wind"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[et]},$$scope:{ctx:r}};for(let s=0;s<e.length;s+=1)n=Z(n,e[s]);return t=new Le({props:n}),{c(){F(t.$$.fragment)},l(s){X(t.$$.fragment,s)},m(s,l){L(t,s,l),a=!0},p(s,[l]){const c=l&3?qe(e,[e[0],l&2&&Be(s[1]),l&1&&{iconNode:s[0]}]):{};l&8&&(c.$$scope={dirty:l,ctx:s}),t.$set(c)},i(s){a||(A(t.$$.fragment,s),a=!0)},o(s){P(t.$$.fragment,s),a=!1},d(s){q(t,s)}}}function st(r,t,a){let{$$slots:e={},$$scope:n}=t;const s=[["path",{d:"M5 8h8.5a2.5 2.5 0 1 0 -2.34 -3.24"}],["path",{d:"M3 12h15.5a2.5 2.5 0 1 1 -2.34 3.24"}],["path",{d:"M4 16h5.5a2.5 2.5 0 1 1 -2.34 3.24"}]];return r.$$set=l=>{a(1,t=Z(Z({},t),de(l))),"$$scope"in l&&a(3,n=l.$$scope)},t=de(t),[s,t,e,n]}class nt extends ne{constructor(t){super(),ae(this,t,st,tt,se,{})}}function at(r){let t,a,e,n,s,l,c,u,o,_,w,k,D=r[3]()+"",y;return{c(){t=h("div"),a=h("div"),e=h("div"),n=E(r[0]),s=E(`
		:
		`),l=h("div"),c=E(r[1]),u=E(`
		:
		`),o=h("div"),_=E(r[2]),w=V(),k=h("div"),y=E(D),this.h()},l(g){t=m(g,"DIV",{class:!0});var v=p(t);a=m(v,"DIV",{class:!0});var j=p(a);e=m(j,"DIV",{class:!0});var M=p(e);n=I(M,r[0]),M.forEach(f),s=I(j,`
		:
		`),l=m(j,"DIV",{class:!0});var B=p(l);c=I(B,r[1]),B.forEach(f),u=I(j,`
		:
		`),o=m(j,"DIV",{class:!0});var G=p(o);_=I(G,r[2]),G.forEach(f),j.forEach(f),w=S(v),k=m(v,"DIV",{class:!0});var z=p(k);y=I(z,D),z.forEach(f),v.forEach(f),this.h()},h(){b(e,"class","h-full w-1/4 flex items-center justify-center"),b(l,"class","h-full w-1/4 flex items-center justify-center"),b(o,"class","h-full w-1/4 flex items-center justify-center"),b(a,"class","flex justify-evenly items-center w-11/12 h-3/4"),b(k,"class","h-1/4 w-full flex justify-center items-center text-2xl"),b(t,"class","variant-glass-surface rounded-md p-2 absolute h-1/5 w-1/4 top-1/2 right-1/2 translate-x-1/2 -translate-y-1/2 shadow-md card flex flex-col items-center text-8xl transition-all svelte-1b260na")},m(g,v){he(g,t,v),i(t,a),i(a,e),i(e,n),i(a,s),i(a,l),i(l,c),i(a,u),i(a,o),i(o,_),i(t,w),i(t,k),i(k,y)},p(g,[v]){v&1&&R(n,g[0]),v&2&&R(c,g[1]),v&4&&R(_,g[2])},i:je,o:je,d(g){g&&f(t)}}}function rt(r,t,a){const e=o=>o<10?`0${o}`:o;let n,s,l;const c=()=>{const o=new Date;a(0,n=e(o.getHours())),a(1,s=e(o.getMinutes())),a(2,l=e(o.getSeconds()))},u=()=>{const o=new Date,_="SUN MON TUE WED THU FRI SAT".split(" ")[o.getDay()],w=o.getDate();return`${_}, ${w}`};return c(),setInterval(c,1e3),[n,s,l,u]}class ot extends ne{constructor(t){super(),ae(this,t,rt,at,se,{})}}function lt(r){let t,a,e,n=r[0].city_full+"",s,l,c,u,o,_,w,k=r[0].description+"",D,y,g,v,j,M=r[0].feels_like+"",B,G,z,N,W,_e,H,Y=r[0].wind_speed+"",re,pe,ge,T,ve,U,J,ee=r[0].temp+"",oe,$e,K,be="°C",C;var O=r[0].icon;function Ee(d,$){return{props:{size:50}}}return O&&(o=me(O,Ee())),W=new nt({}),T=new Ye({props:{style:"transform: rotate("+r[0].wind_deg+"deg);"}}),{c(){t=h("div"),a=h("div"),e=h("div"),s=E(n),l=V(),c=h("div"),u=h("span"),o&&F(o.$$.fragment),_=V(),w=h("span"),D=E(k),y=V(),g=h("div"),v=h("span"),j=E("feel's Like: "),B=E(M),G=E("°C"),z=V(),N=h("span"),F(W.$$.fragment),_e=V(),H=h("span"),re=E(Y),pe=E("km/h"),ge=V(),F(T.$$.fragment),ve=V(),U=h("div"),J=h("span"),oe=E(ee),$e=V(),K=h("span"),K.textContent=be,this.h()},l(d){t=m(d,"DIV",{class:!0});var $=p(t);a=m($,"DIV",{class:!0});var x=p(a);e=m(x,"DIV",{class:!0});var te=p(e);s=I(te,n),te.forEach(f),l=S(x),c=m(x,"DIV",{class:!0});var le=p(c);u=m(le,"SPAN",{});var Ie=p(u);o&&X(o.$$.fragment,Ie),Ie.forEach(f),_=S(le),w=m(le,"SPAN",{class:!0});var ye=p(w);D=I(ye,k),ye.forEach(f),le.forEach(f),x.forEach(f),y=S($),g=m($,"DIV",{class:!0});var ce=p(g);v=m(ce,"SPAN",{});var ie=p(v);j=I(ie,"feel's Like: "),B=I(ie,M),G=I(ie,"°C"),ie.forEach(f),z=S(ce),N=m(ce,"SPAN",{class:!0});var Q=p(N);X(W.$$.fragment,Q),_e=S(Q),H=m(Q,"SPAN",{});var we=p(H);re=I(we,Y),pe=I(we,"km/h"),we.forEach(f),ge=S(Q),X(T.$$.fragment,Q),Q.forEach(f),ce.forEach(f),ve=S($),U=m($,"DIV",{class:!0});var ue=p(U);J=m(ue,"SPAN",{class:!0});var De=p(J);oe=I(De,ee),De.forEach(f),$e=S(ue),K=m(ue,"SPAN",{"data-svelte-h":!0}),We(K)!=="svelte-sl7ktq"&&(K.textContent=be),ue.forEach(f),$.forEach(f),this.h()},h(){b(e,"class","w-full text-xl h-1/4"),b(w,"class","text-2xl font-bold m-2"),b(c,"class","w-full text-xl flex items-end h-3/4"),b(a,"class","col-span-2"),b(N,"class","flex gap-2"),b(g,"class","p-2 flex flex-col justify-evenly"),b(J,"class","text-7xl"),b(U,"class","flex justify-center items-start p-2"),b(t,"class","variant-glass-surface rounded-md p-2 absolute h-1/5 w-1/5 top-1/2 right-1/2 translate-x-1/2 -translate-y-1/2 grid grid-col-2 grid-rows-2 gap-4 shadow-md card svelte-qe5aqa")},m(d,$){he(d,t,$),i(t,a),i(a,e),i(e,s),i(a,l),i(a,c),i(c,u),o&&L(o,u,null),i(c,_),i(c,w),i(w,D),i(t,y),i(t,g),i(g,v),i(v,j),i(v,B),i(v,G),i(g,z),i(g,N),L(W,N,null),i(N,_e),i(N,H),i(H,re),i(H,pe),i(N,ge),L(T,N,null),i(t,ve),i(t,U),i(U,J),i(J,oe),i(U,$e),i(U,K),C=!0},p(d,[$]){if((!C||$&1)&&n!==(n=d[0].city_full+"")&&R(s,n),$&1&&O!==(O=d[0].icon)){if(o){Re();const te=o;P(te.$$.fragment,1,0,()=>{q(te,1)}),Fe()}O?(o=me(O,Ee()),F(o.$$.fragment),A(o.$$.fragment,1),L(o,u,null)):o=null}(!C||$&1)&&k!==(k=d[0].description+"")&&R(D,k),(!C||$&1)&&M!==(M=d[0].feels_like+"")&&R(B,M),(!C||$&1)&&Y!==(Y=d[0].wind_speed+"")&&R(re,Y);const x={};$&1&&(x.style="transform: rotate("+d[0].wind_deg+"deg);"),T.$set(x),(!C||$&1)&&ee!==(ee=d[0].temp+"")&&R(oe,ee)},i(d){C||(o&&A(o.$$.fragment,d),A(W.$$.fragment,d),A(T.$$.fragment,d),C=!0)},o(d){o&&P(o.$$.fragment,d),P(W.$$.fragment,d),P(T.$$.fragment,d),C=!1},d(d){d&&f(t),o&&q(o),q(W),q(T)}}}function ct(r,t,a){let e;return fe(r,ze,n=>a(0,e=n)),[e]}class it extends ne{constructor(t){super(),ae(this,t,ct,lt,se,{})}}const{document:Pe}=Ke;function ut(r){let t,a,e,n;var s=r[0];function l(c,u){return{}}return s&&(e=me(s,l())),{c(){t=V(),a=h("div"),e&&F(e.$$.fragment),this.h()},l(c){xe("svelte-ty9swr",Pe.head).forEach(f),t=S(c),a=m(c,"DIV",{class:!0});var o=p(a);e&&X(e.$$.fragment,o),o.forEach(f),this.h()},h(){Pe.title="ZenFlow",b(a,"class","static h-full w-full")},m(c,u){he(c,t,u),he(c,a,u),e&&L(e,a,null),n=!0},p(c,[u]){if(u&1&&s!==(s=c[0])){if(e){Re();const o=e;P(o.$$.fragment,1,0,()=>{q(o,1)}),Fe()}s?(e=me(s,l()),F(e.$$.fragment),A(e.$$.fragment,1),L(e,a,null)):e=null}},i(c){n||(e&&A(e.$$.fragment,c),n=!0)},o(c){e&&P(e.$$.fragment,c),n=!1},d(c){c&&(f(t),f(a)),e&&q(e)}}}function ft(r,t,a){let e,n,s;fe(r,Ve,_=>a(3,e=_)),fe(r,Se,_=>a(5,n=_)),fe(r,Ae,_=>a(4,s=_));const l=async _=>{try{return await(await fetch(_,{method:"GET",credentials:"include"})).json()}catch(w){console.error(w)}};let c=!1,u;const o=()=>{s?document.body.style.backgroundImage=`url(${s})`:s===""&&(document.body.style.backgroundImage="none"),document.body.style.backgroundSize="cover"};return Ge(async()=>{if((await(await fetch(`${ke}/auth/status`,{method:"GET",credentials:"include"})).json()).success){He.set(!0);const y=await(await fetch(`${ke}/api/background/getBackground`,{method:"GET",credentials:"include"})).json();y.success&&y.backgrounds.length>0&&(Je.set(y.backgrounds),Ae.set(y.currentBackground))}a(2,c=!0);const k=await l(`${ke}/widgets/jokes`);k.success&&Ne(Se,n=k.joke,n),o(),document.addEventListener("keydown",D=>{D.key==="Escape"&&Ne(Ve,e=-1,e)})}),r.$$.update=()=>{if(r.$$.dirty&20&&c&&(s||s==="")&&o(),r.$$.dirty&8)switch(e){case 0:a(0,u=it);break;case 1:a(0,u=ot);break;default:a(0,u="")}},[u,l,c,e,s]}class _t extends ne{constructor(t){super(),ae(this,t,ft,ut,se,{Fetch:1})}get Fetch(){return this.$$.ctx[1]}}export{_t as component};
